--Trigger para compras y ventas

CREATE OR REPLACE TRIGGER TRG_KPI_VENTAS_COMPRAS

AFTER INSERT OR UPDATE OR DELETE ON COMPRA
BEGIN
PKG_KPI_VENTAS_COMPRAS.RUN_ALL;

EXCEPTION
WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('Error en TRG_KPI_VENTAS_COMPRAS: ' || SQLERRM);

END TRG_KPI_VENTAS_COMPRAS;
/

--Trigger para clientes

CREATE OR REPLACE TRIGGER TRG_KPI_CLIENTES

AFTER INSERT OR UPDATE ON CLIENTE
BEGIN
PKG_KPI_CLIENTES_ENTREGAS.RUN_ALL;
EXCEPTION
WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('Error en TRG_KPI_CLIENTES_SIMPLE: ' || SQLERRM);
END TRG_KPI_CLIENTES;
/

--Trigger para entregas

CREATE OR REPLACE TRIGGER TRG_KPI_ENTREGAS

AFTER INSERT OR UPDATE OR DELETE ON ENTREGA
BEGIN
PKG_KPI_CLIENTES_ENTREGAS.RUN_ALL;

EXCEPTION
WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('Error en TRG_KPI_ENTREGAS_SIMPLE: ' || SQLERRM);
END TRG_KPI_ENTREGAS;
/

--Trigger para inventario

CREATE OR REPLACE TRIGGER TRG_KPI_INVENTARIO

AFTER INSERT OR UPDATE OR DELETE ON PRODUCTO
BEGIN

PKG_KPI_INVENTARIO.RUN_ALL;

EXCEPTION
WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('Error en TRG_KPI_INVENTARIO_SIMPLE: ' || SQLERRM);
END TRG_KPI_INVENTARIO_SIMPLE;
/